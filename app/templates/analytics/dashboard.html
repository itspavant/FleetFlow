{% extends "base.html" %}
{% block content %}

<h2 class="mb-4">Reports & Analytics</h2>

<div class="row mb-4">

    <div class="col-md-4">
        <div class="card shadow-sm text-center">
            <div class="card-body">
                <h6>Total Revenue</h6>
                <h3 class="text-success">₹ {{ total_revenue }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm text-center">
            <div class="card-body">
                <h6>Total Fuel Cost</h6>
                <h3 class="text-danger">₹ {{ total_fuel_cost }}</h3>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card shadow-sm text-center">
            <div class="card-body">
                <h6>Fleet ROI</h6>
                <h3 class="text-primary">{{ fleet_roi }}%</h3>
            </div>
        </div>
    </div>

</div>

<!-- Revenue vs Cost Chart -->
<div class="card shadow-sm">
    <div class="card-header">
        Revenue vs Cost
    </div>
    <div class="card-body">
        <canvas id="financeChart"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('financeChart');

new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Revenue', 'Fuel Cost'],
        datasets: [{
            label: 'Amount',
            data: [{{ total_revenue }}, {{ total_fuel_cost }}],
            backgroundColor: ['#198754', '#dc3545']
        }]
    }
});
</script>

{% endblock %}